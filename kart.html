<!DOCTYPE html>
<html lang="en">
<head>
    <title>dc.js - HTML Legend Example</title>
    <meta charset="UTF-8">
    
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  
 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- DC Core CSS -->

  
  <!-- jQuery -->
	<!-- Bootstrap Core JavaScript -->
	<!-- D3 Core JavaScript -->
	<script type="text/javascript" src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<!-- D3 Queue JavaScript -->
	<!-- Crossfilter JavaScript -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
	<!-- DC.js Core JavaScript -->
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.0.0-beta.32/dc.min.js"></script>
	<!-- Moment Core JavaScript -->
  
  
    
</head>
<body>

<div class="container">

<p>This page demonstrates the usage of the html legend.
  It shows example of scrollbars for the vertical menu and setting up a horizontal menu.
</p>
<p style="padding-bottom: 20px">
  It also shows the selected legend highlighted
</p>

    <div style="width:250px; height:150px;display: inline-block">
        <div id="year"></div>
        <div id="year-legend" class="dc-html-legend-container"></div>
    </div>

    <div style="width:250px; height:150px;display: inline-block;margin-left: 80px">
        <div id="name"></div>
        <div id="name-legend" class="dc-html-legend-container"></div>
    </div>


    <script type="text/javascript">
      var spendData = [
        { Name: 'Mr A', Spent: '$40', Year: 2010 },
        { Name: 'Mr B', Spent: '$10', Year: 2011 },
        { Name: 'Mr C', Spent: '$40', Year: 2012 },
        { Name: 'Mr D', Spent: '$70', Year: 2013 },
        { Name: 'Mr E', Spent: '$20', Year: 2014 },
        { Name: 'Mr F', Spent: '$50', Year: 2015 },
        { Name: 'Mr G', Spent: '$30', Year: 2016 },
        { Name: 'Mr D', Spent: '$70', Year: 2017 },
        { Name: 'Mr E', Spent: '$20', Year: 2018 },
        { Name: 'Mr F', Spent: '$50', Year: 2019 },
        { Name: 'Mr G', Spent: '$30', Year: 2020 }
      ];
      // normalize/parse data
      spendData.forEach(function (d) {
        d.Spent = d.Spent.match(/\d+/)[0];
      });
      // set crossfilter
      var ndx = crossfilter(spendData),
        yearDim = ndx.dimension(function (d) {
          return +d.Year;
        }),
        nameDim = ndx.dimension(function (d) {
          return d.Name;
        }),
        spendPerYearGroup = yearDim.group().reduceSum(function (d) {
          return +d.Spent;
        }),
        nameGroup = nameDim.group().reduceCount();
      var yearChart = dc.pieChart("#year"),
        nameChart = dc.pieChart("#name");
      yearChart
        .width(200)
        .height(200)
        .dimension(yearDim)
        .group(spendPerYearGroup)
        .turnOnControls(true);
        
      nameChart
        .width(200)
        .height(200)
        .dimension(nameDim)
        .group(nameGroup);
              yearChart.render();
      nameChart.render();
    </script>
</div>
</body>
</html>